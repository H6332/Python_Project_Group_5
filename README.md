# Minesweeper
Minesweeper 是一個獨立的終端機介面益智遊戲，使用標準 Python 函式庫實作。
## 特性
### 自定義類別 Board_Information
本專案透過 class Board_Information 管理各個格子中的 clicked / is_mine / flag / number 等四個狀態，並使用二維陣列 matrix[r][c] 顯示地圖。
### 使用BFS演算法展開空白區域
本專案採用廣度優先搜尋 (BFS) 演算法來實現點擊空白區塊時的自動展開機制。

BFS 的特性是「由中心向外、層層展開」，我們利用 collections.deque (雙向佇列) 來管理擴散過程。程式碼邏輯嚴格遵循以下規則：

1. 遇見 0 (空白) 加入 Queue：表示該區域尚未結束，需繼續向外探索。

2. 遇見數字 (邊界）不加入 Queue：表示已達擴散邊緣，僅將其翻開顯示，停止該路徑的搜尋。
   
### 首發保護機制
為了增加遊戲順暢度，本踩地雷專案使用了「首發保護機制」。其概念如下：

地雷並非在棋盤初始化時就放置，而是等待玩家執行第一次挖掘後才生成。系統會將玩家點擊的座標及其周圍 3x3 區域鎖定為「安全區」，並僅在剩餘的座標中隨機佈署地雷。
```
Python

safe_positions = set()
for dr in (-1, 0, 1):
   for dc in (-1, 0, 1):
       nr, nc = safe_r + dr, safe_c + dc
       if 0 <= nr < rows and 0 <= nc < cols:
           safe_positions.add((nr, nc))
```

## 如何執行
本專案需要 Python 3.6 或更高版本，依賴 Python 標準函式庫。

若要開始遊戲，請在終端機中執行主腳本：
```
python main.py
```
## 使用說明
以下是遊戲流程：
### 1. 選擇難度
等級 1: 9x9 網格，10 顆地雷

等級 2: 16x16 網格，40 顆地雷

等級 3: 16x30 網格，99 顆地雷
### 2. 輸入模式
輸入 D 切換至 挖掘模式。

輸入 F 切換至 插旗模式。
### 3. 輸入座標
選擇列 (Row)：輸入列座標。

選擇行 (Col)：輸入欄座標。
### 4. 其他操作
輸入 B 可返回上一步驟。

輸入 R 可重新開始遊戲。
### 5. 遊戲結束
__勝利：__ 當所有非地雷格子皆被翻開時，判定勝利，顯示：「🎉 恭喜你贏了！」。

__失敗：__ 當挖掘到地雷時，揭示全圖地雷位置並判定失敗，顯示：「💥 你踩到地雷！遊戲結束！」

遊戲結束後會顯示總耗時，並詢問玩家是否進行新的一局。
### 6. 注意事項

__旗標數量上限：__ 系統強制限制旗標 (Flag) 的數量不得超過地雷總數。若已達上限，玩家必須先移除現有的旗標，才能標記新的位置。

__操作狀態互斥：__ 已翻開格子無法進行插旗操作；反之，已插旗的格子必須先移除旗標後才能進行挖掘。

__座標系統：__ 輸入介面的起始值為 1，輸入值必須為有效範圍內的整數，非數字字元將被視為無效輸入並要求重新輸入。

__畫面顯示限制：__ 在高級模式 (16x30) 下，由於棋盤寬度較大，請確保終端機視窗具有足夠的寬度。若視窗過窄導致字元自動換行，將會破壞網格的視覺對齊，影響遊戲判斷。





